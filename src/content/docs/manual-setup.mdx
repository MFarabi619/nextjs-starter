---
title: Manual Setup
description: Set up the template your way
---

import { File, Folder, Files } from "fumadocs-ui/components/files";

## Steps

You can either start with a folder, or let the Fumadocs command create one for you.

Option 1: Make a directory, and navigate to it.

Once you're in your desired directory, run the Fumadocs quick start command:

```bash
pnpm create fumadocs-app
```

Let it install with the default name. Copy everything from that directory into your root directory, then delete that directory.

Option 2: Just run the command, and when prompted, pick the name. It doesn't make it a Git repo by default, so you'll have to initialize it.

Navigate into the directory, then run the following then navigate to `localhost:3000` to check if it works.

```bash
pnpm i; pnpm dev
```

As the time of writing this, Fumadocs creates a Next.js app with the `app` directory at the root level, and does not provide the option to use the `src` directory, which would be provided by the Next.js CLI.

Therefore, we need to manually move the `app` directory into the `src` directory, and then make some pathing changes in various files.

Create a `src` directory at the root level, and move the `app` and `content` directories into it. At this point, your project structure should look like this:

<Files>
  <Folder name="src" defaultOpen>
    <Folder name="app" defaultOpen>
      <Folder name="api" defaultOpen></Folder>
      <Folder name="docs" defaultOpen>
        <Folder name="[[...slug]]">
          <File name="page.tsx" />
        </Folder>
        <File name="layout.tsx" />
        <File name="global.css" />
      </Folder>
    </Folder>
  </Folder>
  <File name="package.json" />
  <File name="other config files...." />
</Files>

If you try to run the app, you'll see that it doesn't work. This is because the paths in the `tsconfig.json`, `tailwind.config.js`, `route.ts`, `app/page.tsx`, `layout.config.tsx`, `source.ts`, and `next.config.mjs` files are still pointing to the `app` and `content` directories at the root level. Let's fix them.

Make the following changes:

```diff json title="tsconfig.json"
"paths": {
-  "@/*": ["./*"],
+  "@/*": ["./src/*"], // [!code highlight]
+  "@root/*": ["./*"], // [!code highlight]
}
```

```diff title="tailwind.config.js"
content: [
- './components/**/*.{ts,tsx}',
- './app/**/*.{ts,tsx}',
- './content/**/*.{md,mdx}',
+ './src/components/**/*.{ts,tsx}', // [!code highlight]
+ './src/app/**/*.{ts,tsx}', // [!code highlight]
+ './src/content/**/*.{md,mdx}', // [!code highlight]
]
```

```diff title="route.ts"
- import { getPages } from '@/source';
+ import { getPages } from '@/app/source'; // [!code highlight]
```

```diff title="app/page.tsx"
- import { get Page, getPages } from '@/source';
+ import { get Page, getPages } from '@/app/source'; // [!code highlight]
```

```diff title="layout.config.tsx"
- import { pageTree } from '@/source';
+ import { pageTree } from '@/app/source'; // [!code highlight]
```

```diff title="source.ts"
- import { map } from './map'
+ import { map } from '@root/.map'; // [!code highlight]
```

```diff title="next.config.mjs"
- const withMDX = createMDX({ rootContentPath: './content' })
+ const withMDX = createMDX({ rootContentPath: './src/content' }) // [!code highlight]
```

To more easily see the UI differences between the home route and the docs route...

```diff title="tailwind.config.js"
-  presets: [createPreset({ preset: 'purple' })],
+  presets: [createPreset({ preset: 'purple' })], // [!code highlight]
```

Run the app again, everything should be working now.

```bash
pnpm i; pnpm dev
```

Our next step will be to add [Shadcn/ui](https://ui.shadcn.com/). The problem is that it's not fully compatible with the Fumadocs UI design system, which also uses Tailwind CSS. Installing Shadcn will overwrite the current Tailwind CSS configuration, which will break Fumadocs UI.

Next.js allows for separate Root layouts for different routes, which will allow us to use both design systems without conflicts.

Create `(home)/` under `app/`. Copy `global.css`, `layout.tsx`, and `page.tsx` into it.

Now, cut `layout.tsx`, `layout.config.tsx`, `source.ts`, and `global.css` into `docs/`

Fix the paths in the following files:

```diff title="[[...slug]]/page.tsx"
-  presets: [createPreset({ preset: 'purple' })],
+  presets: [createPreset({ preset: 'purple' })], // [!code highlight]
```

```diff title="src/app/docs/layout.config.tsx"
-  presets: [createPreset({ preset: 'purple' })],
+  presets: [createPreset({ preset: 'purple' })], // [!code highlight]
```

```diff title="src/app/docs/route.ts"
-  presets: [createPreset({ preset: 'purple' })],
+  presets: [createPreset({ preset: 'purple' })], // [!code highlight]
```

Change the code in `src/app/docs/layout.tsx` to this, which includes the RootProvider and stylesheet.

```diff title="src/app/docs/layout.tsx"
+ import "./global.css"; // [!code highlight]
import { DocsLayout } from "fumadocs-ui/layout";
import type { ReactNode } from "react";
import { docsOptions } from "./layout.config";
+ import { RootProvider } from "fumadocs-ui/provider"; // [!code highlight]

export default function Layout({ children }: { children: ReactNode }) {
  return (
+   <html lang="en" suppressHydrationWarning> // [!code highlight]
+     <body> // [!code highlight]
+       <RootProvider> // [!code highlight]
          <DocsLayout {...docsOptions}>{children}</DocsLayout>
+       </RootProvider> // [!code highlight]
+     </body> // [!code highlight]
+   </html> // [!code highlight]
  );
}
```

Rename `src/app/docs/global.css` -> `src/app/docs/fumadocs.global.css`

Duplicate `tailwind.config.js`, name it to -> `tailwind.fumadocs.config.ts`, and do the following:

```diff title="tailwind.fumadocs.config.ts"
+  // [!code highlight]
import { createPreset } from 'fumadocs-ui/tailwind-plugin'
+ import type { Config } from "tailwindcss" // [!code highlight]

- /** @type {import('tailwindcss').Config} */
- export default {
+ const config = { // [!code highlight]
+   darkMode: ["class"], // [!code highlight]
+   prefix: "", // [!code highlight]
  content: [
-   './src/components/**/*.{ts,tsx}',
-   './src/app/**/*.{ts,tsx}',
+   './src/app/docs/**/*.{ts,tsx}', // [!code highlight]
    './src/content/**/*.{md,mdx}',
    './mdx-components.{ts,tsx}',
    './node_modules/fumadocs-ui/dist/**/*.js',
  ],
  presets: [createPreset({ preset: 'purple' })],
-}
+} satisfies Config // [!code highlight]
+ // [!code highlight]
+ export default config // [!code highlight]

```

Remove `RootProvider` from `(home)/layout.tsx`

Follow the below steps and cross-check with the instructions in the [Shadcn UI docs](https://ui.shadcn.com/docs/installation/next) to install Shadcn.
Step 1 can be skipped, as we've already set up a Next.js project.

```bash
pnpm dlx shadcn-ui@latest init
```

```bash
Would you like to use TypeScript (recommended)? yes
Which style would you like to use? › New York
Which color would you like to use as base color? › Neutral
Where is your global CSS file? src/app/(home)/globals.css
Do you want to use CSS variables for colors? Yes
Are you using a custom tailwind prefix eg. tw-? (Leave blank if not)
Where is your tailwind.config.js located?  tailwind.config.ts
Configure the import alias for components:  @/components
Configure the import alias for utils: @/lib/utils
Are you using React Server Components? Yes
Write configurations to components.json. Proceed? Y
```

Create a `public/` directory at the root level to store static assets.

Put `favicon.ico` and `icon.ico` files in both the `(home)` and `docs` directories. Also add it under the 'app' directory as both 'favicon.ico' and 'icon.ico'. As of right now I'm not sure which one it was that made it work.

Go to `.vscode/settings.json` and change the comments to key-value pairs, like so:

```diff title=".vscode/settings.json"
{
+  "@comment1": "Disable the default formatter, use eslint instead", // [!code highlight]
  "prettier.enable": false,
  "editor.formatOnSave": false,

+  "@comment2": "Autofix", // [!code highlight]
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit",
    "source.organizeImports": "never"
  },

+  "@comment3": "Silent the stylistic rules in you IDE, but still auto fix them", // [!code highlight]
  "eslint.rules.customizations": [
    { "rule": "style/*", "severity": "off" },
    { "rule": "format/*", "severity": "off" },
    { "rule": "*-indent", "severity": "off" },
    { "rule": "*-spacing", "severity": "off" },
    { "rule": "*-spaces", "severity": "off" },
    { "rule": "*-order", "severity": "off" },
    { "rule": "*-dangle", "severity": "off" },
    { "rule": "*-newline", "severity": "off" },
    { "rule": "*quotes", "severity": "off" },
    { "rule": "*semi", "severity": "off" }
  ],

+  "@comment4": "Enable ESlint for all supported languages", // [!code highlight]
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact",
    "vue",
    "html",
    "markdown",
    "json",
    "jsonc",
    "yaml",
    "toml",
    "xml",
    "gql",
    "graphql",
    "astro",
    "css",
    "less",
    "scss",
    "pcss",
    "postcss"
  ]
}
```

```diff title="tailwind.config.ts"
import type { Config } from 'tailwindcss'
+ import tailwindcssAnimate from 'tailwindcss-animate' // [!code highlight]

const config = {
  darkMode: ['class'],
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  prefix: '',
  theme: {
    container: {
      center: true,
      padding: '2rem',
      screens: {
        '2xl': '1400px',
      },
    },
    extend: {
      colors: {
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      keyframes: {
        'accordion-down': {
          from: { height: '0' },
          to: { height: 'var(--radix-accordion-content-height)' },
        },
        'accordion-up': {
          from: { height: 'var(--radix-accordion-content-height)' },
          to: { height: '0' },
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
      },
    },
  },
-  plugins: [require("tailwindcss-animate")],
+  plugins: [tailwindcssAnimate], // [!code highlight]
} satisfies Config

export default config
```
