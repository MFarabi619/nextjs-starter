---
title: Manual Setup
description: Set up the template your way
---

import { File, Folder, Files } from "fumadocs-ui/components/files";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";

## Steps

### Install Fumadocs

You can either start with a folder, or let the Fumadocs command create one for you.

Option 1: Make a directory, and navigate to it.

Once you're in your desired directory, run the Fumadocs quick start command:

```bash
pnpm create fumadocs-app
```

Let it install with the default name. Copy everything from that directory into your root directory, then delete that directory.

Option 2: Just run the command, and when prompted, pick the name. It doesn't make it a Git repo by default, so you'll have to initialize it.

Navigate into the directory, then run the following then navigate to `localhost:3000` to check if it works.

```bash
pnpm i; pnpm dev
```

#### Migrate project to use 'src' directory

As the time of writing this, Fumadocs creates a Next.js app with the `app` directory at the root level, and does not provide the option to use the `src` directory, which would be provided by the Next.js CLI.

Therefore, we need to manually move the `app` directory into the `src` directory, and then make some pathing changes in various files.

Create a `src` directory at the root level, and move the `app` and `content` directories into it. At this point, your project structure should look like this:

<Files>
  <Folder name="src" defaultOpen>
    <Folder name="app" defaultOpen>
      <Folder name="api" defaultOpen></Folder>
      <Folder name="docs" defaultOpen>
        <Folder name="[[...slug]]">
          <File name="page.tsx" />
        </Folder>
        <File name="layout.tsx" />
        <File name="global.css" />
      </Folder>
    </Folder>
  </Folder>
  <File name="package.json" />
  <File name="other config files...." />
</Files>

#### Fix broken paths

If you try to run the app, you'll see that it doesn't work. This is because the paths in the `tsconfig.json`, `tailwind.config.js`, `route.ts`, `app/page.tsx`, `layout.config.tsx`, `source.ts`, and `next.config.mjs` files are still pointing to the `app` and `content` directories at the root level. Let's fix them.

Make the following changes:

```diff json title="tsconfig.json"
"paths": {
-  "@/*": ["./*"],
+  "@/*": ["./src/*"], // [!code highlight]
+  "@root/*": ["./*"], // [!code highlight]
}
```

```diff title="tailwind.config.js"
content: [
- './components/**/*.{ts,tsx}',
- './app/**/*.{ts,tsx}',
- './content/**/*.{md,mdx}',
+ './src/components/**/*.{ts,tsx}', // [!code highlight]
+ './src/app/**/*.{ts,tsx}', // [!code highlight]
+ './src/content/**/*.{md,mdx}', // [!code highlight]
]
```

```diff title="route.ts"
- import { getPages } from '@/source';
+ import { getPages } from '@/app/source'; // [!code highlight]
```

```diff title="app/page.tsx"
- import { get Page, getPages } from '@/source';
+ import { get Page, getPages } from '@/app/source'; // [!code highlight]
```

```diff title="layout.config.tsx"
- import { pageTree } from '@/source';
+ import { pageTree } from '@/app/source'; // [!code highlight]
```

```diff title="source.ts"
- import { map } from './map'
+ import { map } from '@root/.map'; // [!code highlight]
```

```diff title="next.config.mjs"
- const withMDX = createMDX({ rootContentPath: './content' })
+ const withMDX = createMDX({ rootContentPath: './src/content' }) // [!code highlight]
```

#### Add theme presets

Easily see the UI differences between the home route and the docs route. Use whichever one you prefer, this one uses purple.

```diff title="tailwind.config.js"
    './node_modules/fumadocs-ui/dist/**/*.js',
  ],
+  presets: [createPreset({ // [!code highlight]
+    // preset: 'default', // [!code highlight]
+    // preset: 'neutral', // [!code highlight]
+    // preset: 'dusk', // [!code highlight]
+    preset: 'purple', // [!code highlight]
+    // preset: 'ocean', // [!code highlight]
+    // preset: 'catppuccin', // [!code highlight]
+  })], // [!code highlight]
} satisfies Config
```

Run the app again, everything should be working now.

```bash
pnpm i; pnpm dev
```

#### Document Fumadocs CSS Variables for future reference and easy customization

```css title="docs/fumadocs.global.css"
@config '../../../tailwind.fumadocs.config.ts';
@tailwind base;
@tailwind components;
@tailwind utilities;

/*Fumadocs Presets*/
/*var defaultPreset = {*/
/*  light: {*/
/*    background: "0 0% 98%",*/
/*    foreground: "0 0% 3.9%",*/
/*    muted: "0 0% 96.1%",*/
/*    "muted-foreground": "0 0% 45.1%",*/
/*    popover: "0 0% 100%",*/
/*    "popover-foreground": "0 0% 15.1%",*/
/*    card: "0 0% 99.7%",*/
/*    "card-foreground": "0 0% 3.9%",*/
/*    border: "0 0% 89.8%",*/
/*    primary: "0 0% 9%",*/
/*    "primary-foreground": "0 0% 98%",*/
/*    secondary: "0 0% 96.1%",*/
/*    "secondary-foreground": "0 0% 9%",*/
/*    accent: "0 0% 94.1%",*/
/*    "accent-foreground": "0 0% 9%",*/
/*    ring: "0 0% 63.9%"*/
/*  },*/
/*  dark: {*/
/*    background: "0 0% 3.9%",*/
/*    foreground: "0 0% 98%",*/
/*    muted: "0 0% 12.9%",*/
/*    "muted-foreground": "0 0% 60.9%",*/
/*    popover: "0 0% 7%",*/
/*    "popover-foreground": "0 0% 88%",*/
/*    card: "0 0% 8%",*/
/*    "card-foreground": "0 0% 98%",*/
/*    border: "0 0% 18%",*/
/*    primary: "0 0% 98%",*/
/*    "primary-foreground": "0 0% 9%",*/
/*    secondary: "0 0% 12.9%",*/
/*    "secondary-foreground": "0 0% 98%",*/
/*    accent: "0 0% 14.9%",*/
/*    "accent-foreground": "0 0% 90%",*/
/*    ring: "0 0% 14.9%"*/
/*  }*/
/*};*/
/*var oceanPreset = {*/
/*  light: {*/
/*    background: "0 0% 98%",*/
/*    foreground: "0 0% 3.9%",*/
/*    muted: "220 90% 96.1%",*/
/*    "muted-foreground": "0 0% 45.1%",*/
/*    popover: "0 0% 98%",*/
/*    "popover-foreground": "0 0% 15.1%",*/
/*    card: "220 50% 98%",*/
/*    "card-foreground": "0 0% 3.9%",*/
/*    border: "220 50% 89.8%",*/
/*    primary: "210 80% 20.2%",*/
/*    "primary-foreground": "0 0% 98%",*/
/*    secondary: "220 90% 96.1%",*/
/*    "secondary-foreground": "0 0% 9%",*/
/*    accent: "220 50% 94.1%",*/
/*    "accent-foreground": "0 0% 9%",*/
/*    ring: "220 100% 63.9%"*/
/*  },*/
/*  dark: {*/
/*    "card-foreground": "220 60% 94.5%",*/
/*    "primary-foreground": "0 0% 9%",*/
/*    "secondary-foreground": "220 80% 90%",*/
/*    ring: "205 100% 85%",*/
/*    card: "220 50% 10%",*/
/*    muted: "220 50% 10%",*/
/*    "muted-foreground": "220 30% 65%",*/
/*    "accent-foreground": "220 80% 90%",*/
/*    popover: "220 50% 10%",*/
/*    "popover-foreground": "220 30% 65%",*/
/*    accent: "220 40% 20%",*/
/*    secondary: "220 50% 20%",*/
/*    background: "220 60% 6%",*/
/*    foreground: "220 60% 94.5%",*/
/*    primary: "205 100% 85%",*/
/*    border: "220 50% 20%"*/
/*  },*/
/*  css: {*/
/*    ".dark body": {*/
/*      "background-image": "linear-gradient(rgba(5, 105, 255, 0.15), transparent 20rem, transparent)"*/
/*    }*/
/*  }*/
/*};*/
/*var neutral = {*/
/*  light: {*/
/*    background: "0 0% 96%",*/
/*    foreground: "0 0% 3.9%",*/
/*    muted: "0 0% 96.1%",*/
/*    "muted-foreground": "0 0% 45.1%",*/
/*    popover: "0 0% 100%",*/
/*    "popover-foreground": "0 0% 15.1%",*/
/*    card: "0 0% 94.7%",*/
/*    "card-foreground": "0 0% 3.9%",*/
/*    border: "0 0% 89.8%",*/
/*    primary: "0 0% 9%",*/
/*    "primary-foreground": "0 0% 98%",*/
/*    secondary: "0 0% 93.1%",*/
/*    "secondary-foreground": "0 0% 9%",*/
/*    accent: "0 0% 90.1%",*/
/*    "accent-foreground": "0 0% 9%",*/
/*    ring: "0 0% 63.9%"*/
/*  },*/
/*  dark: {*/
/*    background: "0 0% 8.9%",*/
/*    foreground: "0 0% 92%",*/
/*    muted: "0 0% 12.9%",*/
/*    "muted-foreground": "0 0% 60.9%",*/
/*    popover: "0 0% 9.8%",*/
/*    "popover-foreground": "0 0% 88%",*/
/*    card: "0 0% 10%",*/
/*    "card-foreground": "0 0% 98%",*/
/*    border: "0 0% 18%",*/
/*    primary: "0 0% 98%",*/
/*    "primary-foreground": "0 0% 9%",*/
/*    secondary: "0 0% 12.9%",*/
/*    "secondary-foreground": "0 0% 98%",*/
/*    accent: "0 0% 16.9%",*/
/*    "accent-foreground": "0 0% 90%",*/
/*    ring: "0 0% 14.9%"*/
/*  },*/
/*  css: {*/
/*    "#nd-sidebar": {*/
/*      "--muted": "0deg 0% 89%",*/
/*      "--secondary": "0deg 0% 99%",*/
/*      "--muted-foreground": "0 0% 30%"*/
/*    },*/
/*    ".dark #nd-sidebar": {*/
/*      "--muted": "0deg 0% 16%",*/
/*      "--secondary": "0deg 0% 18%",*/
/*      "--muted-foreground": "0 0% 72%"*/
/*    }*/
/*  }*/
/*};*/
/*var catppuccin = {*/
/*  light: {*/
/*    popover: "220deg 22% 92%",*/
/*    "popover-foreground": "234deg 16% 35%",*/
/*    "secondary-foreground": "234deg 16% 35%",*/
/*    border: "223deg 16% 83%",*/
/*    primary: "266deg 85% 58%",*/
/*    "primary-foreground": "234deg 16% 35%",*/
/*    muted: "220deg 22% 92%",*/
/*    card: "220deg 22% 92%",*/
/*    accent: "223deg 16% 83%",*/
/*    "accent-foreground": "234deg 16% 35%",*/
/*    "card-foreground": "234deg 16% 35%",*/
/*    "muted-foreground": "233deg 10% 47%",*/
/*    foreground: "234deg 16% 35%",*/
/*    secondary: "220deg 22% 92%",*/
/*    background: "220deg 23% 95%",*/
/*    ring: "267deg 84% 81%"*/
/*  },*/
/*  dark: {*/
/*    ring: "267deg 84% 81%",*/
/*    primary: "267deg 84% 81%",*/
/*    background: "240deg 21% 15%",*/
/*    foreground: "226deg 64% 88%",*/
/*    popover: "240deg 23% 9%",*/
/*    card: "240deg 21% 12%",*/
/*    muted: "240deg 21% 12%",*/
/*    border: "237deg 16% 23%",*/
/*    accent: "237deg 16% 23%",*/
/*    secondary: "240deg 21% 12%",*/
/*    "primary-foreground": "240deg 23% 9%",*/
/*    "card-foreground": "226deg 64% 88%",*/
/*    "secondary-foreground": "226deg 64% 88%",*/
/*    "popover-foreground": "226deg 64% 88%",*/
/*    "accent-foreground": "226deg 64% 88%",*/
/*    "muted-foreground": "228deg 24% 72%"*/
/*  },*/
/*  css: {*/
/*    "#nd-sidebar": {*/
/*      "--secondary": "223deg 16% 83%",*/
/*      "--muted": "223deg 16% 83%"*/
/*    },*/
/*    ".dark #nd-sidebar": {*/
/*      "--secondary": "237deg 16% 23%",*/
/*      "--muted": "237deg 16% 23%"*/
/*    }*/
/*  }*/
/*};*/
/*var purple = {*/
/*  light: {*/
/*    background: "256 100% 96%",*/
/*    primary: "270 100% 52%",*/
/*    border: "270 40% 80%",*/
/*    accent: "270 60% 86%",*/
/*    "accent-foreground": "270 100% 20%",*/
/*    muted: "256 60% 94%",*/
/*    "muted-foreground": "256 50% 50%",*/
/*    foreground: "256 60% 26%",*/
/*    secondary: "270 60% 90%",*/
/*    "secondary-foreground": "256 60% 10%",*/
/*    card: "256 60% 92%",*/
/*    "card-foreground": "256 100% 20%",*/
/*    "popover-foreground": "256 100% 20%",*/
/*    popover: "256 60% 96%",*/
/*    "primary-foreground": "270 100% 20%",*/
/*    ring: "270 100% 52%"*/
/*  },*/
/*  dark: {*/
/*    background: "256 60% 6%",*/
/*    primary: "270 100% 86%",*/
/*    border: "270 100% 20%",*/
/*    accent: "256 60% 26%",*/
/*    "accent-foreground": "270 100% 86%",*/
/*    muted: "256 60% 10%",*/
/*    foreground: "256 60% 90%",*/
/*    "muted-foreground": "256 50% 75%",*/
/*    secondary: "270 100% 20%",*/
/*    "secondary-foreground": "256 60% 90%",*/
/*    card: "256 60% 10%",*/
/*    "card-foreground": "256 60% 90%",*/
/*    "popover-foreground": "256 60% 90%",*/
/*    popover: "256 60% 6%",*/
/*    "primary-foreground": "256 60% 6%",*/
/*    ring: "270 100% 86%"*/
/*  }*/
/*};*/
/*var dusk = {*/
/*  light: {*/
/*    background: "250 20% 92%",*/
/*    primary: "340 40% 48%",*/
/*    border: "240 40% 90%",*/
/*    accent: "250 30% 90%",*/
/*    "accent-foreground": "250 20% 20%",*/
/*    muted: "240 30% 94%",*/
/*    "muted-foreground": "240 10% 50%",*/
/*    foreground: "220 20% 30%",*/
/*    secondary: "250 40% 94%",*/
/*    "secondary-foreground": "240 40% 10%",*/
/*    card: "250 20% 92%",*/
/*    "card-foreground": "250 20% 20%",*/
/*    "popover-foreground": "250 40% 20%",*/
/*    popover: "250 40% 96%",*/
/*    "primary-foreground": "240 80% 20%",*/
/*    ring: "340 40% 48%"*/
/*  },*/
/*  dark: {*/
/*    ring: "340 100% 90%",*/
/*    "primary-foreground": "240 40% 4%",*/
/*    popover: "240 20% 5%",*/
/*    "popover-foreground": "250 20% 90%",*/
/*    primary: "340 100% 90%",*/
/*    border: "220 15% 15%",*/
/*    background: "220 15% 6%",*/
/*    foreground: "220 15% 87%",*/
/*    muted: "220 20% 15%",*/
/*    "muted-foreground": "220 15% 60%",*/
/*    accent: "250 20% 15%",*/
/*    secondary: "240 20% 15%",*/
/*    "card-foreground": "240 15% 87%",*/
/*    card: "240 20% 5%",*/
/*    "secondary-foreground": "250 20% 90%",*/
/*    "accent-foreground": "340 5% 90%"*/
/*  }*/
/*};*/
/*var presets = {*/
/*  purple,*/
/*  default: defaultPreset,*/
/*  ocean: oceanPreset,*/
/*  catppuccin,*/
/*  neutral,*/
/*  dusk*/
/*};*/
```

### Install Shadcn/ui

Our next step will be to add [Shadcn/ui](https://ui.shadcn.com/). The problem is that it's not fully compatible with the Fumadocs UI design system, which also uses Tailwind CSS. Installing Shadcn will overwrite the current Tailwind CSS configuration, which will break Fumadocs UI.

Next.js allows for separate Root layouts for different routes, which will allow us to use both design systems without conflicts.

#### Separate design systems

Create `(home)/` under `app/`. Copy `global.css`, `layout.tsx`, and `page.tsx` into it.

Now, cut `layout.tsx`, `layout.config.tsx`, `source.ts`, and `global.css` into `docs/`

Fix the paths in the following files:

```diff title="[[...slug]]/page.tsx"
-  presets: [createPreset({ preset: 'purple' })],
+  presets: [createPreset({ preset: 'purple' })], // [!code highlight]
```

```diff title="src/app/docs/layout.config.tsx"
-  presets: [createPreset({ preset: 'purple' })],
+  presets: [createPreset({ preset: 'purple' })], // [!code highlight]
```

```diff title="src/app/docs/route.ts"
-  presets: [createPreset({ preset: 'purple' })],
+  presets: [createPreset({ preset: 'purple' })], // [!code highlight]
```

Change the code in `src/app/docs/layout.tsx` to this, which includes the RootProvider and stylesheet.

```diff title="src/app/docs/layout.tsx"
+ import "./global.css"; // [!code highlight]
import { DocsLayout } from "fumadocs-ui/layout";
import type { ReactNode } from "react";
import { docsOptions } from "./layout.config";
+ import { RootProvider } from "fumadocs-ui/provider"; // [!code highlight]

export default function Layout({ children }: { children: ReactNode }) {
  return (
+   <html lang="en" suppressHydrationWarning> // [!code highlight]
+     <body> // [!code highlight]
+       <RootProvider> // [!code highlight]
          <DocsLayout {...docsOptions}>{children}</DocsLayout>
+       </RootProvider> // [!code highlight]
+     </body> // [!code highlight]
+   </html> // [!code highlight]
  );
}
```

Rename `src/app/docs/global.css` -> `src/app/docs/fumadocs.global.css`

Duplicate `tailwind.config.js`, name it to -> `tailwind.fumadocs.config.ts`, and do the following:

```diff title="tailwind.fumadocs.config.ts"
+  // [!code highlight]
import { createPreset } from 'fumadocs-ui/tailwind-plugin'
+ import type { Config } from "tailwindcss" // [!code highlight]

- /** @type {import('tailwindcss').Config} */
- export default {
+ const config = { // [!code highlight]
+   darkMode: ["class"], // [!code highlight]
+   prefix: "", // [!code highlight]
  content: [
-   './src/components/**/*.{ts,tsx}',
-   './src/app/**/*.{ts,tsx}',
+   './src/app/docs/**/*.{ts,tsx}', // [!code highlight]
    './src/content/**/*.{md,mdx}',
    './mdx-components.{ts,tsx}',
    './node_modules/fumadocs-ui/dist/**/*.js',
  ],
  presets: [createPreset({ preset: 'purple' })],
-}
+} satisfies Config // [!code highlight]
+ // [!code highlight]
+ export default config // [!code highlight]

```

Remove `RootProvider` from `(home)/layout.tsx`

#### Run Shadcn/ui install script

Follow the below steps and cross-check with the instructions in the [Shadcn/ui docs](https://ui.shadcn.com/docs/installation/next) to install Shadcn.
Step 1 can be skipped, as we've already set up a Next.js project.

```bash
pnpm dlx shadcn-ui@latest init
```

```bash
Would you like to use TypeScript (recommended)? yes
Which style would you like to use? › New York
Which color would you like to use as base color? › Neutral
Where is your global CSS file? src/app/(home)/globals.css
Do you want to use CSS variables for colors? Yes
Are you using a custom tailwind prefix eg. tw-? (Leave blank if not)
Where is your tailwind.config.js located?  tailwind.config.ts
Configure the import alias for components:  @/components
Configure the import alias for utils: @/lib/utils
Are you using React Server Components? Yes
Write configurations to components.json. Proceed? Y
```

### Add Favicon and Icon

Create a `public/` directory at the root level to store static assets.

Put `favicon.ico` and `icon.ico` files in both the `(home)` and `docs` directories. Also add it under the 'app' directory as both 'favicon.ico' and 'icon.ico'. As of right now I'm not sure which one it was that made it work.

```diff title="tailwind.config.ts"
import type { Config } from 'tailwindcss'
+ import tailwindcssAnimate from 'tailwindcss-animate' // [!code highlight]

const config = {
  darkMode: ['class'],
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  prefix: '',
  theme: {
    container: {
      center: true,
      padding: '2rem',
      screens: {
        '2xl': '1400px',
      },
    },
    extend: {
      colors: {
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      keyframes: {
        'accordion-down': {
          from: { height: '0' },
          to: { height: 'var(--radix-accordion-content-height)' },
        },
        'accordion-up': {
          from: { height: 'var(--radix-accordion-content-height)' },
          to: { height: '0' },
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
      },
    },
  },
-  plugins: [require("tailwindcss-animate")],
+  plugins: [tailwindcssAnimate], // [!code highlight]
} satisfies Config

export default config
```

### Customize docs site

Now, let's further customize the docs site.

#### Add GitHub Repo Link to Navbar

```diff title="docs/layout.config.tsx"
import type { BaseLayoutProps, DocsLayoutProps } from 'fumadocs-ui/layout'
import { pageTree } from '@/app/docs/source'

// shared configuration
export const baseOptions: BaseLayoutProps = {
  nav: {
    title: 'Stack Builder Docs',
  },
+ githubUrl: 'https://github.com/MFarabi619/stack-builder', // [!code highlight]
  links: [
    {
      text: 'Documentation',
      url: '/docs',
      active: 'nested-url',
    },
  ],
}

// docs layout configuration
export const docsOptions: DocsLayoutProps = {
  ...baseOptions,
  tree: pageTree,
}
```

#### Add a header to the docs site

The properties currently accepted by the Docs Layout can be accepted by the Home layout as well.

```diff title="docs/layout.tsx"
import type { BaseLayoutProps, DocsLayoutProps } from 'fumadocs-ui/layout'
import { pageTree } from '@/app/docs/source'

// shared configuration
export const baseOptions: BaseLayoutProps = {
  nav: {
    title: 'Stack Builder Docs',
  },
  githubUrl: 'https://github.com/MFarabi619/stack-builder',
  links: [
    {
      text: 'Documentation',
      url: '/docs',
      active: 'nested-url',
    },
  ],
}
+ // [!code highlight]
+ // home layout configuration // [!code highlight]
+ export const homeOptions: BaseLayoutProps = { // [!code highlight]
+  ...baseOptions, // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
// docs layout configuration
export const docsOptions: DocsLayoutProps = {
  ...baseOptions,
  tree: pageTree,
}
```

For the header to appear, the `DocsLayout` component needs to be wrapped in the `HomeLayout` component.

````diff title="docs/layout.tsx"
```diff title="docs/layout.tsx"
 import './fumadocs.global.css'
-import { DocsLayout } from 'fumadocs-ui/layout'
+import { DocsLayout, Layout as HomeLayout } from 'fumadocs-ui/layout' // [!code highlight]
 import type { ReactNode } from 'react'
 import { RootProvider } from 'fumadocs-ui/provider'
-import { docsOptions } from './layout.config'
+import { docsOptions, homeOptions } from './layout.config' // [!code highlight]

 export default function Layout({ children }: { children: ReactNode }) {
   return (
     <html lang="en" suppressHydrationWarning>
       <body>
         <RootProvider>
-          <DocsLayout {...docsOptions}>{children}</DocsLayout>
+          <HomeLayout {...homeOptions}> // [!code highlight]
+            <DocsLayout {...docsOptions}>{children}</DocsLayout> // [!code highlight]
+          </HomeLayout> // [!code highlight]
         </RootProvider>
       </body>
     </html>
````

At this point the header should appear on the docs site. However, it contains many of the same elements as the sidebar, such as the title, search bar, theme toggle, links, etc.

Unfortunately, Fumadocs does not provide a way to customize the header(HomeLayout) and sidebar(DocsLayout) separately through a clean API due to opinion. Therefore we have to target the CSS classes directly to conditionally render them at different screen sizes.

Add the following:

```diff title="docs/fumadocs.global.css"
@config '../../../tailwind.fumadocs.config.ts';
@tailwind base;
@tailwind components;
@tailwind utilities;
+ // [!code highlight]
+/*Hide the header on mobile screens, as the sidebar turns into the header on mobile screens*/ // [!code highlight]
+#nd-nav { // [!code highlight]
+  @apply max-md:hidden md:sticky // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*Make the header full width, otherwise it is constrained to a container and looks odd at larger screens*/ // [!code highlight]
+#nd-nav nav { // [!code highlight]
+  @apply max-w-full // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*Due to the addition of the header, the sidebar is pushed down.*/ // [!code highlight]
+/*When the page is scrolled, the sidebar scrolls as well and is covered by the header. Fix this by making the sidebar sticky, and setting the height to be viewport height minus the header height.*/ // [!code highlight]
+#nd-sidebar { // [!code highlight]
+  @apply md:sticky md:top-16 md:h-[calc(100vh-4rem)] // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*Hide the first container for sidebar, with title, horizontal rule, search bar, and dots button*/ // [!code highlight]
+#nd-sidebar > div:first-child { // [!code highlight]
+  @apply md:hidden // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*Sidebar search bar*/ // [!code highlight]
+/*#nd-sidebar > div:first-child > button:last-child {*/ // [!code highlight]
+/*  @apply md:hidden*/ // [!code highlight]
+/*}*/ // [!code highlight]
+ // [!code highlight]
+/*Make the theme toggle button invisible on desktop screens, as the header already has a theme toggle button*/ // [!code highlight]
+#nd-sidebar > div:nth-child(3) > [aria-label="Toggle Theme"] { // [!code highlight]
+  @apply md:invisible // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*The Table of Contents also faces the same issue as the sidebar when desktop header is visible. Apply similar fixes*/ // [!code highlight]
+#nd-docs-layout > div:last-child { // [!code highlight]
+  @apply md:sticky md:top-16 md:h-[calc(100vh-4rem)] md:pt-8 // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
/*Fumadocs Presets*/
...
```

### Install ESLint

#### Use Anthony Fu's configuration

[Anthony Fu's ESLint Configuration](https://github.com/antfu/eslint-config)

```bash
pnpm dlx @antfu/eslint-config@latest
```

This uses ESLint 9, which is still buggy and incompatible with many plugins. We're going to downversion to `8.57.0`.

```bash
pnpm i -D eslint@8
```

Add compatibility function to the ESLint flat config file.

```diff title="eslint.config.mjs"
+import { FlatCompat } from '@eslint/eslintrc' // [!code highlight]

-export default antfu({
+const compat = new FlatCompat() // [!code highlight]

-})
+export default antfu( // [!code highlight]
+  { // [!code highlight]
+    ignores: [], // [!code highlight]
+  }, // [!code highlight]
+ // [!code highlight]
+  // Legacy config // [!code highlight]
+  ...compat.config({ // [!code highlight]
+    extends: [ // [!code highlight]
+      // 'eslint:recommended', // [!code highlight]
+      // Other extends... // [!code highlight]
+    ], // [!code highlight]
+  }) // [!code highlight]
+ // [!code highlight]
+  // Other flat configs... // [!code highlight]
+) // [!code highlight]
```

#### Fix VS Code settings.json

Go to `.vscode/settings.json` and change the comments to key-value pairs, like so:

```diff title=".vscode/settings.json"
{
- // Disable the default formatter, use eslint instead
+  "@comment1": "Disable the default formatter, use eslint instead", // [!code highlight]
  "prettier.enable": false,
  "editor.formatOnSave": false,

- // Autofix
+  "@comment2": "Autofix", // [!code highlight]
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit",
    "source.organizeImports": "never"
  },

- // Silent the stylistic rules in you IDE, but still auto fix them
+  "@comment3": "Silent the stylistic rules in you IDE, but still auto fix them", // [!code highlight]
  "eslint.rules.customizations": [
    { "rule": "style/*", "severity": "off" },
    { "rule": "format/*", "severity": "off" },
    { "rule": "*-indent", "severity": "off" },
    { "rule": "*-spacing", "severity": "off" },
    { "rule": "*-spaces", "severity": "off" },
    { "rule": "*-order", "severity": "off" },
    { "rule": "*-dangle", "severity": "off" },
    { "rule": "*-newline", "severity": "off" },
    { "rule": "*quotes", "severity": "off" },
    { "rule": "*semi", "severity": "off" }
  ],

- // Enable ESlint for all supported languages
+  "@comment4": "Enable ESlint for all supported languages", // [!code highlight]
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact",
    "vue",
    "html",
    "markdown",
    "json",
    "jsonc",
    "yaml",
    "toml",
    "xml",
    "gql",
    "graphql",
    "astro",
    "css",
    "less",
    "scss",
    "pcss",
    "postcss"
  ]
}
```

#### Activate ESLint React rules and Formatter rules

```diff title="eslint.config.mjs"
     ignores: [],
+    react: true, // [!code highlight]
+    formatters: { // [!code highlight]
+      /** // [!code highlight]
+      * Format CSS, LESS, SCSS files, also the `<style>` blocks in Vue // [!code highlight]
+      * By default uses Prettier // [!code highlight]
+      */ // [!code highlight]
+      css: true, // [!code highlight]
+      /** // [!code highlight]
+      * Format HTML files // [!code highlight]
+      * By default uses Prettier // [!code highlight]
+      */ // [!code highlight]
+      html: true, // [!code highlight]
+      /** // [!code highlight]
+      * Format Markdown files // [!code highlight]
+      * Supports Prettier and dprint // [!code highlight]
+      * By default uses Prettier // [!code highlight]
+      */ // [!code highlight]
+      // markdown: 'prettier' // [!code highlight]
+  }, // [!code highlight]

     // Legacy config
```

#### Add ESLint scripts to package.json

```diff title="package.json"
   "scripts": {
     "build": "next build",
     "dev": "next dev",
     "start": "next start"
+    "lint": "eslint .", // [!code highlight]
+    "lint:fix": "eslint . --fix", // [!code highlight]
+    "lint:inspect": "npx @eslint/config-inspector" // [!code highlight]
   },
```

The commands need to be run in order for all packages to be installed.

```bash
pnpm lint; pnpm lint:fix; pnpm lint:inspect
```

Ensure that `eslint-plugin-format` is in your `package.json`, if not, install it.

```bash
pnpm i -D eslint-plugin-format
```

Your entire project will be linted and fixable errors will be fixed. You should also see a browser tap open up with the address `localhost:7777`. This is the ESLint config inspector, which is only available for flat ESLint configs, like the one we just configured.

### Install Husky

```bash
pnpm i -D husky
```

In `.husky/` create a `pre-commit` file with the following content:

```bash
echo "Running pre-commit command"
```

### Install Lint Staged

<Tabs items={["Terminal", ".gitignore", ".husky/pre-commit"]}>

```bash tab="Terminal"
pnpm i -D lint-staged
```
 
```diff tab=".gitignore"
/build
*.tsbuildinfo
+ // [!code highlight]
+ # caches // [!code highlight]
+ .eslintcache // [!code highlight]
+ // [!code highlight]
# misc
.DS_Store
*.pem
```
 
```diff tab=".husky/pre-commit"
- echo "Running pre-commit command"
+ pnpm lint-staged // [!code highlight]
```
 
</Tabs>

### Install Commitlint

#### Create Commitlint config

#### Create Husky Git hook to run Commitint

### Install Commitizen

### Install Semantic Release

### Set up CI/CD with GitHub Actions

### Install Storybook

#### Add essential Storybook plugins

##### Dark Mode

##### Backgrounds

##### Accessibility

##### Unit & Integration Testing with Jest, Testing Library, and Storybook Test Runner

##### E2E Testing with Playwright

##### Coverage Testing

#### Run Storybook tests in CI pipeline

### Install Chromatic

#### Add project token

#### Run Chromatic tests in CI pipeline

### Set up Sanity

#### Create new Sanity project

#### Install Sanity CLI

#### Install Sanity Client

### Install Docker

### Install Framer Motion

### Install Swiper.js
