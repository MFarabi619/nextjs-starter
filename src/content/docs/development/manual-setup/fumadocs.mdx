---
title: Fumadocs
description: Powering your current documentation reading experience. No further explanation needed.
---

import { File, Folder, Files } from "fumadocs-ui/components/files";

<Cards>
  <Card
    title="Fumadocs"
    description="Modern documentation site building framework compatible with Next.js 14 App Router."
    icon=""
    href="https://fumadocs.vercel.app/"
  />
  <Card
    title="MDX"
    description="Markdown extended with YAML and JSX to create supercharged content."
    icon=""
    href="https://mdxjs.com/"
  />
</Cards>

## Installation

<Tabs items={['New directory', 'Current directory']}>
    <Tab value='New directory'>

```sh
pwd # See where you are
#/home/mfarabi/workspace
mkdir dirname # Create and navigate to new directory
git init -b main # Initialize Git repository
```

<InstallTabs items={['npm', 'pnpm', 'yarn', 'bun']}>

```bash tab="npm"
npx create-fumadocs-app
```

```bash tab="pnpm"
pnpm create fumadocs-app
```

```bash tab="yarn"
yarn create fumadocs-app
```

```bash tab="bun"
bun create fumadocs-app
```

</InstallTabs>

Follow the prompt with the responses.

```
┌  Create Fumadocs App
│
◇  Project name
│  .
│
◇  Choose a content source
│  Fumadocs MDX
│
◇  Use Tailwind CSS for styling?
│  Yes
│
◇  Do you want to install packages automatically? (detected as pnpm)
│  Yes
│
◇  . already exists, do you want to delete it?
│  No
│
◓  Generating ProjectLockfile is up to date, resolution step is skipped
◑  Generating ProjectAlready up to date
◓  Generating ProjectDone in 605ms
◇  Project Generated
│
└  Done

✔ Tailwind CSS
✔ Typescript

Open the project
cd .

Run Development Server
npm run dev | pnpm run dev | yarn dev

You can now open the project and start writing documents
```

  </Tab>

  <Tab value='Current directory'>

```sh
pwd # See where you are
#/home/mfarabi/workspace
```

<InstallTabs items={['npm', 'pnpm', 'yarn', 'bun']}>

```bash tab="npm"
npx create-fumadocs-app
```

```bash tab="pnpm"
pnpm create fumadocs-app
```

```bash tab="yarn"
yarn create fumadocs-app
```

```bash tab="bun"
bun create fumadocs-app
```

</InstallTabs>

Follow the prompt with the responses.

```
┌  Create Fumadocs App
│
◇  Project name
│  dirname
│
◇  Choose a content source
│  Fumadocs MDX
│
◇  Use Tailwind CSS for styling?
│  Yes
│
◇  Do you want to install packages automatically? (detected as pnpm)
│  Yes
│
◓  Generating ProjectPackages: +370
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Progress: resolved 37Progress: resolved 378, reused 370, downloaded 0, added 370, done
◐  Generating Project.
dependencies:
+ fumadocs-core 12.3.6
+ fumadocs-mdx 8.2.33
+ fumadocs-ui 12.3.6
+ next 14.2.4
+ react 18.3.1
+ react-dom 18.3.1

devDependencies:
+ @types/mdx 2.0.13
+ @types/react 18.3.3
+ @types/react-dom 18.3.0
+ autoprefixer 10.4.19
+ postcss 8.4.39
+ tailwindcss 3.4.4
+ typescript 5.5.3

Done in 3.6s
◇  Project Generated
│
└  Done

✔ Tailwind CSS
✔ Typescript

Open the project
cd dirname

Run Development Server
npm run dev | pnpm run dev | yarn dev

You can now open the project and start writing documents
```

```sh
cd dirname # Navigate to directory
pwd # See where you are
#/home/mfarabi/workspace/dirname
git init -b main # Initialize Git repository with `main` branch instead of the default `master`
```

  </Tab>

</Tabs>

<InstallTabs items={['npm', 'pnpm', 'yarn', 'bun']}>

```bash tab="npm"
npm i; npm run dev
```

```bash tab="pnpm"
pnpm i; pnpm dev
```

```bash tab="yarn"
yarn i; yarn dev
```

```bash tab="bun"
bun i; bun dev
```

</InstallTabs>

You should see:

```
> next dev

  ▲ Next.js 14.2.4
  - Local:        http://localhost:3000

 ✓ Starting...
   automatically enabled Fast Refresh for 1 custom loader
 ✓ Ready in 2.1s
```

Navigate to the localhost url in your browser to see the app running. You can also <kbd>⌘</kbd>+<kbd>Click</kbd> or <kbd>Ctrl</kbd>+<kbd>Click</kbd> it.

If you have other servers running locally, it may be on a different port than `3000` and that's okay.

### Migrate project to use 'src' directory

<Callout type="warn">

As the time of writing this, Fumadocs creates a Next.js app with the `app` directory at the root level, and does not provide the option to use the `src` directory, which would be provided by the Next.js CLI.

Therefore, we need to manually move the `app` directory into the `src` directory, and then make some pathing changes in various files.

</Callout>

Create a `src` directory at the root level, and move the `app` and `content` directories into it.

<Callout type="info">You can click on the folders to expand them.</Callout>

<Tabs items={['Before', 'After']}>
    <Tab value='Before'>
      <Files>
        <Folder name=".git">
          <File name="Git files...." />
        </Folder>
        <Folder name=".next">
          <File name="Next.js files...." />
        </Folder>
        <Folder name="app" className="text-primary bg-primary/10">
          <Folder name="api">
            <Folder name="search">
              <File name="route.ts" />
            </Folder>
          </Folder>
          <Folder name="docs">
            <Folder name="[[...slug]]">
              <File name="page.tsx" />
            </Folder>
            <File name="layout.tsx" />
          </Folder>
          <File name="global.css" />
          <File name="layout.config.tsx" />
          <File name="layout.tsx" />
          <File name="page.tsx" />
          <File name="source.ts" />
        </Folder>
        <Folder name="content" className="text-primary bg-primary/10">
          <Folder name="docs" defaultOpen>
            <File name="index.mdx" />
            <File name="test.mdx" />
          </Folder>
        </Folder>
        <Folder name="node_modules" >
          <File name="dependencies...." />
        </Folder>
        <File name=".gitignore" />
        <File name=".map.ts" />
        <File name="README.md" />
        <File name="mdx-components.tsx" />
        <File name="next-env.d.ts" />
        <File name="next.config.mjs" />
        <File name="package.json" />
        <File name="pnpm-lock.yaml" />
        <File name="postcss.config.js" />
        <File name="tailwind.config.js" />
        <File name="tsconfig.json" />
      </Files>

```bash title="Terminal"
pwd # /home/mfarabi/workspace/dirname
mkdir src;
mv app src/
mv content src/
```

Now see the `After` tab.

</Tab>
    <Tab value='After'>
      <Files>
        <Folder name=".git">
          <File name="Git files...." />
        </Folder>
        <Folder name=".next">
          <File name="Next.js files...." />
        </Folder>
        <Folder name="src" defaultOpen className="text-primary bg-primary/10">
        <Folder name="app">
          <Folder name="api">
            <Folder name="search">
              <File name="route.ts" />
            </Folder>
          </Folder>
          <Folder name="docs">
            <Folder name="[[...slug]]">
              <File name="page.tsx" />
            </Folder>
            <File name="layout.tsx" />
          </Folder>
          <File name="global.css" />
          <File name="layout.config.tsx" />
          <File name="layout.tsx" />
          <File name="page.tsx" />
          <File name="source.ts" />
        </Folder>
        <Folder name="content">
          <Folder name="docs" defaultOpen>
            <File name="index.mdx" />
            <File name="test.mdx" />
          </Folder>
        </Folder>
        </Folder>
        <Folder name="node_modules">
          <File name="dependencies...." />
        </Folder>
        <File name=".gitignore" />
        <File name=".map.ts" />
        <File name="README.md" />
        <File name="mdx-components.tsx" />
        <File name="next-env.d.ts" />
        <File name="next.config.mjs" />
        <File name="package.json" />
        <File name="pnpm-lock.yaml" />
        <File name="postcss.config.js" />
        <File name="tailwind.config.js" />
        <File name="tsconfig.json"/>
      </Files>
    </Tab>
</Tabs>

### Fix Broken Paths

If you try to run the app, you'll see that it doesn't work. This is because the paths in the `tsconfig.json`, `tailwind.config.js`, `route.ts`, `app/page.tsx`, `layout.config.tsx`, `source.ts`, and `next.config.mjs` files are still pointing to the `app` and `content` directories at the root level. Let's fix them.

<Tabs items={['route.ts', 'app/layout.config.tsx', 'app/page.tsx', 'app/source.ts', 'next.config.mjs', 'tailwind.config.js', 'tsconfig.json']}>
  <Tab value="route.ts">

    ```diff title="route.ts"
    - import { getPages } from '@/source';
    + import { getPages from '@/app/source'; // [!code highlight]
    ```

  </Tab>
  <Tab value="app/layout.config.tsx">

    ```diff title="layout.config.tsx"
    - import { pageTree } from '@/source';
    + import { pageTree } from '@/app/source'; // [!code highlight]
    ```

  </Tab>
  <Tab value="app/page.tsx">

    ```diff title="app/page.tsx"
    - import { getPage, getPages } from '@/source';
    + import { getPage, getPages } from '@/app/source'; // [!code highlight]
    ```

  </Tab>
  <Tab value="app/source.ts">

    ```diff title="source.ts"
    - import { map } from './map';
    + import { map } from '@root/.map'; // [!code highlight]
    ```

  </Tab>
  <Tab value="next.config.mjs">

    ```diff title="next.config.mjs"
    - const withMDX = createMDX({ rootContentPath: './content' });
    + const withMDX = createMDX({ rootContentPath: './src/content' }); // [!code highlight]
    ```

  </Tab>
  <Tab value="tailwind.config.js">

    ```diff title="tailwind.config.js"
    content: [
    - './components/**/*.{ts,tsx}',
    - './app/**/*.{ts,tsx}',
    - './content/**/*.{md,mdx}',
    + './src/components/**/*.{ts,tsx}', // [!code highlight]
    + './src/app/**/*.{ts,tsx}', // [!code highlight]
    + './src/content/**/*.{md,mdx}', // [!code highlight]
    ]
    ```

  </Tab>
  <Tab value="tsconfig.json">

    ```diff json title="tsconfig.json"
    "paths": {
    -  "@/*": ["./*"],
    +  "@/*": ["./src/*"], // [!code highlight]
    +  "@root/*": ["./*"], // [!code highlight]
    }
    ```

  </Tab>
</Tabs>

Run the app again, everything should be working now.

```bash title="Terminal"
pnpm i; pnpm dev
```

## Configuration

### Add Theme Presets

Easily see the UI differences between the home route and the docs route. Use whichever one you prefer, this one uses purple.

```diff title="tailwind.config.js"
    './node_modules/fumadocs-ui/dist/**/*.js',
  ],
+  presets: [createPreset({ // [!code highlight]
+    // preset: 'default', // [!code highlight]
+    // preset: 'neutral', // [!code highlight]
+    // preset: 'dusk', // [!code highlight]
+    preset: 'purple', // [!code highlight]
+    // preset: 'ocean', // [!code highlight]
+    // preset: 'catppuccin', // [!code highlight]
+  })], // [!code highlight]
} satisfies Config
```

### Document CSS Variables for future reference & customization

```css title="docs/fumadocs.global.css"
@config '../../../tailwind.fumadocs.config.ts';
@tailwind base;
@tailwind components;
@tailwind utilities;

/*Fumadocs Presets*/
/*var defaultPreset = {*/
/*  light: {*/
/*    background: "0 0% 98%",*/
/*    foreground: "0 0% 3.9%",*/
/*    muted: "0 0% 96.1%",*/
/*    "muted-foreground": "0 0% 45.1%",*/
/*    popover: "0 0% 100%",*/
/*    "popover-foreground": "0 0% 15.1%",*/
/*    card: "0 0% 99.7%",*/
/*    "card-foreground": "0 0% 3.9%",*/
/*    border: "0 0% 89.8%",*/
/*    primary: "0 0% 9%",*/
/*    "primary-foreground": "0 0% 98%",*/
/*    secondary: "0 0% 96.1%",*/
/*    "secondary-foreground": "0 0% 9%",*/
/*    accent: "0 0% 94.1%",*/
/*    "accent-foreground": "0 0% 9%",*/
/*    ring: "0 0% 63.9%"*/
/*  },*/
/*  dark: {*/
/*    background: "0 0% 3.9%",*/
/*    foreground: "0 0% 98%",*/
/*    muted: "0 0% 12.9%",*/
/*    "muted-foreground": "0 0% 60.9%",*/
/*    popover: "0 0% 7%",*/
/*    "popover-foreground": "0 0% 88%",*/
/*    card: "0 0% 8%",*/
/*    "card-foreground": "0 0% 98%",*/
/*    border: "0 0% 18%",*/
/*    primary: "0 0% 98%",*/
/*    "primary-foreground": "0 0% 9%",*/
/*    secondary: "0 0% 12.9%",*/
/*    "secondary-foreground": "0 0% 98%",*/
/*    accent: "0 0% 14.9%",*/
/*    "accent-foreground": "0 0% 90%",*/
/*    ring: "0 0% 14.9%"*/
/*  }*/
/*};*/
/*var oceanPreset = {*/
/*  light: {*/
/*    background: "0 0% 98%",*/
/*    foreground: "0 0% 3.9%",*/
/*    muted: "220 90% 96.1%",*/
/*    "muted-foreground": "0 0% 45.1%",*/
/*    popover: "0 0% 98%",*/
/*    "popover-foreground": "0 0% 15.1%",*/
/*    card: "220 50% 98%",*/
/*    "card-foreground": "0 0% 3.9%",*/
/*    border: "220 50% 89.8%",*/
/*    primary: "210 80% 20.2%",*/
/*    "primary-foreground": "0 0% 98%",*/
/*    secondary: "220 90% 96.1%",*/
/*    "secondary-foreground": "0 0% 9%",*/
/*    accent: "220 50% 94.1%",*/
/*    "accent-foreground": "0 0% 9%",*/
/*    ring: "220 100% 63.9%"*/
/*  },*/
/*  dark: {*/
/*    "card-foreground": "220 60% 94.5%",*/
/*    "primary-foreground": "0 0% 9%",*/
/*    "secondary-foreground": "220 80% 90%",*/
/*    ring: "205 100% 85%",*/
/*    card: "220 50% 10%",*/
/*    muted: "220 50% 10%",*/
/*    "muted-foreground": "220 30% 65%",*/
/*    "accent-foreground": "220 80% 90%",*/
/*    popover: "220 50% 10%",*/
/*    "popover-foreground": "220 30% 65%",*/
/*    accent: "220 40% 20%",*/
/*    secondary: "220 50% 20%",*/
/*    background: "220 60% 6%",*/
/*    foreground: "220 60% 94.5%",*/
/*    primary: "205 100% 85%",*/
/*    border: "220 50% 20%"*/
/*  },*/
/*  css: {*/
/*    ".dark body": {*/
/*      "background-image": "linear-gradient(rgba(5, 105, 255, 0.15), transparent 20rem, transparent)"*/
/*    }*/
/*  }*/
/*};*/
/*var neutral = {*/
/*  light: {*/
/*    background: "0 0% 96%",*/
/*    foreground: "0 0% 3.9%",*/
/*    muted: "0 0% 96.1%",*/
/*    "muted-foreground": "0 0% 45.1%",*/
/*    popover: "0 0% 100%",*/
/*    "popover-foreground": "0 0% 15.1%",*/
/*    card: "0 0% 94.7%",*/
/*    "card-foreground": "0 0% 3.9%",*/
/*    border: "0 0% 89.8%",*/
/*    primary: "0 0% 9%",*/
/*    "primary-foreground": "0 0% 98%",*/
/*    secondary: "0 0% 93.1%",*/
/*    "secondary-foreground": "0 0% 9%",*/
/*    accent: "0 0% 90.1%",*/
/*    "accent-foreground": "0 0% 9%",*/
/*    ring: "0 0% 63.9%"*/
/*  },*/
/*  dark: {*/
/*    background: "0 0% 8.9%",*/
/*    foreground: "0 0% 92%",*/
/*    muted: "0 0% 12.9%",*/
/*    "muted-foreground": "0 0% 60.9%",*/
/*    popover: "0 0% 9.8%",*/
/*    "popover-foreground": "0 0% 88%",*/
/*    card: "0 0% 10%",*/
/*    "card-foreground": "0 0% 98%",*/
/*    border: "0 0% 18%",*/
/*    primary: "0 0% 98%",*/
/*    "primary-foreground": "0 0% 9%",*/
/*    secondary: "0 0% 12.9%",*/
/*    "secondary-foreground": "0 0% 98%",*/
/*    accent: "0 0% 16.9%",*/
/*    "accent-foreground": "0 0% 90%",*/
/*    ring: "0 0% 14.9%"*/
/*  },*/
/*  css: {*/
/*    "#nd-sidebar": {*/
/*      "--muted": "0deg 0% 89%",*/
/*      "--secondary": "0deg 0% 99%",*/
/*      "--muted-foreground": "0 0% 30%"*/
/*    },*/
/*    ".dark #nd-sidebar": {*/
/*      "--muted": "0deg 0% 16%",*/
/*      "--secondary": "0deg 0% 18%",*/
/*      "--muted-foreground": "0 0% 72%"*/
/*    }*/
/*  }*/
/*};*/
/*var catppuccin = {*/
/*  light: {*/
/*    popover: "220deg 22% 92%",*/
/*    "popover-foreground": "234deg 16% 35%",*/
/*    "secondary-foreground": "234deg 16% 35%",*/
/*    border: "223deg 16% 83%",*/
/*    primary: "266deg 85% 58%",*/
/*    "primary-foreground": "234deg 16% 35%",*/
/*    muted: "220deg 22% 92%",*/
/*    card: "220deg 22% 92%",*/
/*    accent: "223deg 16% 83%",*/
/*    "accent-foreground": "234deg 16% 35%",*/
/*    "card-foreground": "234deg 16% 35%",*/
/*    "muted-foreground": "233deg 10% 47%",*/
/*    foreground: "234deg 16% 35%",*/
/*    secondary: "220deg 22% 92%",*/
/*    background: "220deg 23% 95%",*/
/*    ring: "267deg 84% 81%"*/
/*  },*/
/*  dark: {*/
/*    ring: "267deg 84% 81%",*/
/*    primary: "267deg 84% 81%",*/
/*    background: "240deg 21% 15%",*/
/*    foreground: "226deg 64% 88%",*/
/*    popover: "240deg 23% 9%",*/
/*    card: "240deg 21% 12%",*/
/*    muted: "240deg 21% 12%",*/
/*    border: "237deg 16% 23%",*/
/*    accent: "237deg 16% 23%",*/
/*    secondary: "240deg 21% 12%",*/
/*    "primary-foreground": "240deg 23% 9%",*/
/*    "card-foreground": "226deg 64% 88%",*/
/*    "secondary-foreground": "226deg 64% 88%",*/
/*    "popover-foreground": "226deg 64% 88%",*/
/*    "accent-foreground": "226deg 64% 88%",*/
/*    "muted-foreground": "228deg 24% 72%"*/
/*  },*/
/*  css: {*/
/*    "#nd-sidebar": {*/
/*      "--secondary": "223deg 16% 83%",*/
/*      "--muted": "223deg 16% 83%"*/
/*    },*/
/*    ".dark #nd-sidebar": {*/
/*      "--secondary": "237deg 16% 23%",*/
/*      "--muted": "237deg 16% 23%"*/
/*    }*/
/*  }*/
/*};*/
/*var purple = {*/
/*  light: {*/
/*    background: "256 100% 96%",*/
/*    primary: "270 100% 52%",*/
/*    border: "270 40% 80%",*/
/*    accent: "270 60% 86%",*/
/*    "accent-foreground": "270 100% 20%",*/
/*    muted: "256 60% 94%",*/
/*    "muted-foreground": "256 50% 50%",*/
/*    foreground: "256 60% 26%",*/
/*    secondary: "270 60% 90%",*/
/*    "secondary-foreground": "256 60% 10%",*/
/*    card: "256 60% 92%",*/
/*    "card-foreground": "256 100% 20%",*/
/*    "popover-foreground": "256 100% 20%",*/
/*    popover: "256 60% 96%",*/
/*    "primary-foreground": "270 100% 20%",*/
/*    ring: "270 100% 52%"*/
/*  },*/
/*  dark: {*/
/*    background: "256 60% 6%",*/
/*    primary: "270 100% 86%",*/
/*    border: "270 100% 20%",*/
/*    accent: "256 60% 26%",*/
/*    "accent-foreground": "270 100% 86%",*/
/*    muted: "256 60% 10%",*/
/*    foreground: "256 60% 90%",*/
/*    "muted-foreground": "256 50% 75%",*/
/*    secondary: "270 100% 20%",*/
/*    "secondary-foreground": "256 60% 90%",*/
/*    card: "256 60% 10%",*/
/*    "card-foreground": "256 60% 90%",*/
/*    "popover-foreground": "256 60% 90%",*/
/*    popover: "256 60% 6%",*/
/*    "primary-foreground": "256 60% 6%",*/
/*    ring: "270 100% 86%"*/
/*  }*/
/*};*/
/*var dusk = {*/
/*  light: {*/
/*    background: "250 20% 92%",*/
/*    primary: "340 40% 48%",*/
/*    border: "240 40% 90%",*/
/*    accent: "250 30% 90%",*/
/*    "accent-foreground": "250 20% 20%",*/
/*    muted: "240 30% 94%",*/
/*    "muted-foreground": "240 10% 50%",*/
/*    foreground: "220 20% 30%",*/
/*    secondary: "250 40% 94%",*/
/*    "secondary-foreground": "240 40% 10%",*/
/*    card: "250 20% 92%",*/
/*    "card-foreground": "250 20% 20%",*/
/*    "popover-foreground": "250 40% 20%",*/
/*    popover: "250 40% 96%",*/
/*    "primary-foreground": "240 80% 20%",*/
/*    ring: "340 40% 48%"*/
/*  },*/
/*  dark: {*/
/*    ring: "340 100% 90%",*/
/*    "primary-foreground": "240 40% 4%",*/
/*    popover: "240 20% 5%",*/
/*    "popover-foreground": "250 20% 90%",*/
/*    primary: "340 100% 90%",*/
/*    border: "220 15% 15%",*/
/*    background: "220 15% 6%",*/
/*    foreground: "220 15% 87%",*/
/*    muted: "220 20% 15%",*/
/*    "muted-foreground": "220 15% 60%",*/
/*    accent: "250 20% 15%",*/
/*    secondary: "240 20% 15%",*/
/*    "card-foreground": "240 15% 87%",*/
/*    card: "240 20% 5%",*/
/*    "secondary-foreground": "250 20% 90%",*/
/*    "accent-foreground": "340 5% 90%"*/
/*  }*/
/*};*/
/*var presets = {*/
/*  purple,*/
/*  default: defaultPreset,*/
/*  ocean: oceanPreset,*/
/*  catppuccin,*/
/*  neutral,*/
/*  dusk*/
/*};*/
```

### Navbar GitHub Link

```diff title="docs/layout.config.tsx"
import type { BaseLayoutProps, DocsLayoutProps } from 'fumadocs-ui/layout'
import { pageTree } from '@/app/docs/source'

// shared configuration
export const baseOptions: BaseLayoutProps = {
  nav: {
    title: 'Stack Builder Docs',
  },
+ githubUrl: 'https://github.com/MFarabi619/stack-builder', // [!code highlight]
  links: [
    {
      text: 'Documentation',
      url: '/docs',
      active: 'nested-url',
    },
  ],
}

// docs layout configuration
export const docsOptions: DocsLayoutProps = {
  ...baseOptions,
  tree: pageTree,
}
```

### Add Header

The properties currently accepted by the Docs Layout can be accepted by the Home layout as well.

```diff title="docs/layout.tsx"
import type { BaseLayoutProps, DocsLayoutProps } from 'fumadocs-ui/layout'
import { pageTree } from '@/app/docs/source'

// shared configuration
export const baseOptions: BaseLayoutProps = {
  nav: {
    title: 'Stack Builder Docs',
  },
  githubUrl: 'https://github.com/MFarabi619/stack-builder',
  links: [
    {
      text: 'Documentation',
      url: '/docs',
      active: 'nested-url',
    },
  ],
}
+ // [!code highlight]
+ // home layout configuration // [!code highlight]
+ export const homeOptions: BaseLayoutProps = { // [!code highlight]
+  ...baseOptions, // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
// docs layout configuration
export const docsOptions: DocsLayoutProps = {
  ...baseOptions,
  tree: pageTree,
}
```

For the header to appear, the `DocsLayout` component needs to be wrapped in the `HomeLayout` component.

````diff title="docs/layout.tsx"
```diff title="docs/layout.tsx"
 import './fumadocs.global.css'
-import { DocsLayout } from 'fumadocs-ui/layout'
+import { DocsLayout, Layout as HomeLayout } from 'fumadocs-ui/layout' // [!code highlight]
 import type { ReactNode } from 'react'
 import { RootProvider } from 'fumadocs-ui/provider'
-import { docsOptions } from './layout.config'
+import { docsOptions, homeOptions } from './layout.config' // [!code highlight]

 export default function Layout({ children }: { children: ReactNode }) {
   return (
     <html lang="en" suppressHydrationWarning>
       <body>
         <RootProvider>
-          <DocsLayout {...docsOptions}>{children}</DocsLayout>
+          <HomeLayout {...homeOptions}> // [!code highlight]
+            <DocsLayout {...docsOptions}>{children}</DocsLayout> // [!code highlight]
+          </HomeLayout> // [!code highlight]
         </RootProvider>
       </body>
     </html>
````

At this point the header should appear on the docs site. However, it contains many of the same elements as the sidebar, such as the title, search bar, theme toggle, links, etc.

Unfortunately, Fumadocs does not provide a way to customize the header(HomeLayout) and sidebar(DocsLayout) separately through a clean API due to opinion. Therefore we have to target the CSS classes directly to conditionally render them at different screen sizes.

#### Customize Header

```diff title="docs/fumadocs.global.css"
@config '../../../tailwind.fumadocs.config.ts';
@tailwind base;
@tailwind components;
@tailwind utilities;
+ // [!code highlight]
+/*Hide the header on mobile screens, as the sidebar turns into the header on mobile screens*/ // [!code highlight]
+#nd-nav { // [!code highlight]
+  @apply max-md:hidden md:sticky // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*Make the header full width, otherwise it is constrained to a container and looks odd at larger screens*/ // [!code highlight]
+#nd-nav nav { // [!code highlight]
+  @apply max-w-full // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*Due to the addition of the header, the sidebar is pushed down.*/ // [!code highlight]
+/*When the page is scrolled, the sidebar scrolls as well and is covered by the header. Fix this by making the sidebar sticky, and setting the height to be viewport height minus the header height.*/ // [!code highlight]
+#nd-sidebar { // [!code highlight]
+  @apply md:sticky md:top-16 md:h-[calc(100vh-4rem)] // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*Hide the first container for sidebar, with title, horizontal rule, search bar, and dots button*/ // [!code highlight]
+#nd-sidebar > div:first-child { // [!code highlight]
+  @apply md:hidden // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*Sidebar search bar*/ // [!code highlight]
+/*#nd-sidebar > div:first-child > button:last-child {*/ // [!code highlight]
+/*  @apply md:hidden*/ // [!code highlight]
+/*}*/ // [!code highlight]
+ // [!code highlight]
+/*Make the theme toggle button invisible on desktop screens, as the header already has a theme toggle button*/ // [!code highlight]
+#nd-sidebar > div:nth-child(3) > [aria-label="Toggle Theme"] { // [!code highlight]
+  @apply md:invisible // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
+/*The Table of Contents also faces the same issue as the sidebar when desktop header is visible. Apply similar fixes*/ // [!code highlight]
+#nd-docs-layout > div:last-child { // [!code highlight]
+  @apply md:sticky md:top-16 md:h-[calc(100vh-4rem)] md:pt-8 // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
/*Fumadocs Presets*/
...
```

### Add Package Install plugin

```package-install
fumadocs-docgen
```

Add Remark plugin with custom Tabs configuration

```diff title="next.config.mjs"
 import createMDX from 'fumadocs-mdx/config'
+ import { remarkInstall } from 'fumadocs-docgen' // [!code highlight]

- const withMDX = createMDX({ rootContentPath: './src/content' })
 const withMDX = createMDX({ // [!code highlight]
   rootContentPath: './src/content', // [!code highlight]
   mdxOptions: { // [!code highlight]
+     remarkPlugins: [ // [!code highlight]
+       [remarkInstall, { Tabs: 'InstallTabs' }], // [!code highlight]
+     ], // [!code highlight]
   }, // [!code highlight]
 }) // [!code highlight]

 /** @type {import('next').NextConfig} */
 const config = {
```

Add Tabs configuration to `mdx-components.tsx`. Whichever tab the user chooses [will persist](https://fumadocs.vercel.app/docs/ui/components/tabs#shared-value), even if they navigate to another page.

````diff title="mdx-components.tsx"
 import type { MDXComponents } from 'mdx/types'
 import defaultComponents from 'fumadocs-ui/mdx'

```diff title="mdx-components.tsx"
 import type { MDXComponents } from 'mdx/types'
 import defaultComponents from 'fumadocs-ui/mdx'
+import type { ReactNode } from 'react' // [!code highlight]
+import { Tab, Tabs } from 'fumadocs-ui/components/tabs' // [!code highlight]

 export function useMDXComponents(components: MDXComponents): MDXComponents {
   return {
     ...defaultComponents,
     ...components,
+    Tab, // [!code highlight]
+    Tabs, // [!code highlight]
+    InstallTabs: ({ // [!code highlight]
+      items, // [!code highlight]
+      children, // [!code highlight]
+    }: { // [!code highlight]
+      items: string[] // [!code highlight]
+      children: ReactNode // [!code highlight]
+    }) => ( // [!code highlight]
+      <Tabs items={items} id="package-manager"> // [!code highlight]
+        {children} // [!code highlight]
+      </Tabs> // [!code highlight]
+    ), // [!code highlight]
   }
 }
````

### Add Lucide React Icons

```package-install
lucide-react
```

#### Add finder function to loader

This allows us to use icons in docs without importing them.

```diff title="docs/source.ts"

 import { map } from '@root/.map'
 import { createMDXSource } from 'fumadocs-mdx'
 import { loader } from 'fumadocs-core/source'
+import { createElement } from 'react' // [!code highlight]
+import { icons } from 'lucide-react' // [!code highlight]

 export const { getPage, getPages, pageTree } = loader({
   baseUrl: '/docs',
   rootDir: 'docs',
+  icon(icon) { // [!code highlight]
+    if (!icon) { // [!code highlight]
+      // You may set a default icon // [!code highlight]
+      // return createElement(HomeIcon) // [!code highlight]
+      return // [!code highlight]
+    } // [!code highlight]
+ // [!code highlight]
+    if (icon in icons) // [!code highlight]
+      return createElement(icons[icon as keyof typeof icons]) // [!code highlight]
+  }, // [!code highlight]
+ // [!code highlight]
   source: createMDXSource(map),
 })
```

#### Use Icons in Docs

You can now use [Lucide React](https://lucide.dev/) icons in your docs.

```md title="index.mdx"
---
title: Manual Setup
description: Set up the template your way.
icon: GitBranch
---
```

```json title="meta.json"
{
  "title": "Manual Setup",
  "icon": "GitBranch"
}
```

### Define Pages

Use a `pages` variable for single source of truth.

```diff title="docs/source.ts"

 import { map } from '@root/.map'
 import { createMDXSource } from 'fumadocs-mdx'
 import { loader } from 'fumadocs-core/source'
 import { createElement } from 'react'
+import { // [!code highlight]
+  Palette as DesignIcon, // [!code highlight]
+  GitPullRequestCreateArrow as DevelopmentIcon, // [!code highlight]
+  Dock as HomeIcon, // [!code highlight]
+  Kanban as ProjectManagementIcon, // [!code highlight]
   icons,
+} from 'lucide-react' // [!code highlight]
+ // [!code highlight]
+export const pages = [ // [!code highlight]
+  { // [!code highlight]
+    title: 'Home', // [!code highlight]
+    description: 'Best decisions start with the best information', // [!code highlight]
+    url: '', // [!code highlight]
+    icon: HomeIcon, // [!code highlight]
+  }, // [!code highlight]
+  { // [!code highlight]
+    title: 'Project Management', // [!code highlight]
+    description: 'Turn visions into reality with confidence', // [!code highlight]
+    url: 'project-management', // [!code highlight]
+    icon: ProjectManagementIcon, // [!code highlight]
+  }, // [!code highlight]
+  { // [!code highlight]
+    title: 'Design', // [!code highlight]
+    description: 'Deliver outstanding UI/UX at record velocity', // [!code highlight]
+    url: 'design', // [!code highlight]
+    icon: DesignIcon, // [!code highlight]
+  }, // [!code highlight]
+  { // [!code highlight]
+    title: 'Development', // [!code highlight]
+    description: 'Architect your solution for scale and longevity', // [!code highlight]
+    url: 'development', // [!code highlight]
+    icon: DevelopmentIcon, // [!code highlight]
+  }, // [!code highlight]
+] // [!code highlight]

 export const { getPage, getPages, pageTree } = loader({
   baseUrl: '/docs',
   ...
```

You can import these pages in `.mdx` files and use them like this:

```mdx title="index.mdx"
---
title: Welcome to Stack Builder
description: Your dream, your stack, your way.
---

import { pages } from "../../app/docs/source";

## Choose your path

<Cards>
  {pages
    .filter((page) => page.title !== "Home") // Filter out the Home page
    .map((page) => (
      <Card
        key={page.title}
        title={page.title}
        description={page.description}
        href={`/docs/${page.url}`}
        icon={
          <page.icon
            style={{
              color: `hsl(var(--accent-foreground))`,
            }}
          />
        }
      />
    ))}
</Cards>
```

As of right now, I haven't been able to get path aliasing to work, hence the spaghetti import.

The `url` property must be specified in that format, otherwise `RootToggle` will not change options when clicked.

### Add Root Toggle button

```diff title="docs/layout.config.tsx"
 import { pageTree, pages } from '@/app/docs/source'
 import type { BaseLayoutProps, DocsLayoutProps } from 'fumadocs-ui/layout'
-import { pageTree } from '@/app/docs/source'
+import { RootToggle } from 'fumadocs-ui/components/layout/root-toggle' // [!code highlight]
+import { Library as DocumentationPageIcon, Layers as StackBuilderIcon } from 'lucide-react' // [!code highlight]
+import { pageTree, pages } from '@/app/docs/source' // [!code highlight]

 // shared configuration
 export const baseOptions: BaseLayoutProps = {
   nav: {
-    title: 'Stack Builder Docs',
+    title: ( // [!code highlight]
+      <> // [!code highlight]
+        <StackBuilderIcon /> // [!code highlight]
+        <span className="text-lg font-bold">Stack Builder</span> // [!code highlight]
+      </> // [!code highlight]
+    ), // [!code highlight]
   },
   githubUrl: 'https://github.com/MFarabi619/stack-builder',
   links: [
     {
-      text: 'Documentation',
+      text: 'Home', // [!code highlight]
       url: '/docs',
+      icon: <DocumentationPageIcon />, // [!code highlight]
       active: 'nested-url',
     },
   ],

...

 // docs layout configuration
 export const docsOptions: DocsLayoutProps = {
   ...baseOptions,
+  sidebar: { // [!code highlight]
+    banner: ( // [!code highlight]
+      <RootToggle // [!code highlight]
+        options={pages.map(page => ({ // [!code highlight]
+          title: page.title, // [!code highlight]
+          description: page.description, // [!code highlight]
+          url: `/docs/${page.url}`, // [!code highlight]
+          icon: ( // [!code highlight]
+            <page.icon // [!code highlight]
+              className="size-9 shrink-0 rounded-md bg-gradient-to-t from-background/80 p-1.5" // [!code highlight]
+              style={{ // [!code highlight]
+                backgroundColor: `hsl(var(--primary)/.3)`, // [!code highlight]
+                color: `hsl(var(--accent-foreground))`, // [!code highlight]
+              }} // [!code highlight]
+            /> // [!code highlight]
+          ), // [!code highlight]
+        }))} // [!code highlight]
+      /> // [!code highlight]
+    ), // [!code highlight]
+  }, // [!code highlight]
   tree: pageTree,
 }
```

The `url` property must be specified in that format, otherwise `RootToggle` will not change options when clicked.

### Add Roll Button

Add the [button](https://fumadocs.vercel.app/docs/ui/components/roll-button) you currently see that scrolls to the top when clicked.

```diff title="docs/[[...slug]]/page.tsx"
 import type { Metadata } from 'next'
 import { DocsBody, DocsPage } from 'fumadocs-ui/page'
 import { notFound } from 'next/navigation'
+import { RollButton } from 'fumadocs-ui/components/roll-button' // [!code highlight]
 import { getPage, getPages } from '@/app/docs/source'

 ...

   return (
     <DocsPage toc={page.data.exports.toc} full={page.data.full}>
+      <RollButton /> // [!code highlight]
       <DocsBody>
         <h1>{page.data.title}</h1>
         <MDX />
```

The button is hidden behind the desktop header. Apply the following CSS to make it visible.

```diff title="docs/fumadocs.global.css"
/*The Table of Contents also faces the same issue as the sidebar when desktop header is visible. Apply similar fixes*/
#nd-docs-layout > div:last-child {
  @apply md:sticky md:top-16 md:h-[calc(100vh-4rem)] md:pt-8;
}
+ // [!code highlight]
+/*---------------- ROLL BUTTON ----------------*/ // [!code highlight]
+ // [!code highlight]
+/*The button appears behind the desktop header, move it down*/ // [!code highlight]
+[aria-label='Scroll to Top'] { // [!code highlight]
+  @apply md:top-20 !important; // [!code highlight]
+} // [!code highlight]
+ // [!code highlight]
/*---------------- THEME PRESETS ----------------*/
```

### Add Steps

```diff title="mdx-components.tsx"
...
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
+import { Step, Steps } from 'fumadocs-ui/components/steps' // [!code highlight]

export function useMDXComponents(components: MDXComponents): MDXComponents {
  return {
    ...defaultComponents,
    ...components,
    Tab,
    Tabs,
+   Step, // [!code highlight]
+   Steps, // [!code highlight]
    InstallTabs: ({
      items,
    ...

```

### Add 'Last updated' time to footer

```diff title="docs/[[...slug]]/page.tsx"
   const MDX = page.data.exports.default

   return (
-    <DocsPage toc={page.data.exports.toc} full={page.data.full}>
+    <DocsPage // [!code highlight]
+      toc={page.data.exports.toc} // [!code highlight]
+      lastUpdate={page.data.exports.lastModified} // [!code highlight]
+      full={page.data.full} // [!code highlight]
+    > // [!code highlight]
       <RollButton />
       <DocsBody>
         <h1>{page.data.title}</h1>
```

```diff title="next.config.mjs"
 import createMDX from 'fumadocs-mdx/config'
 import { remarkInstall } from 'fumadocs-docgen'

 const withMDX = createMDX({
   rootContentPath: './src/content',
   mdxOptions: {
+    lastModifiedTime: 'git', // [!code highlight]
     remarkPlugins: [
       [remarkInstall, { Tabs: 'InstallTabs' }],
     ],
   },
 })

 /** @type {import('next').NextConfig} */
 const config = {
```

### Render page descriptions under title

```diff title="docs/[[...slug]]/page.tsx"
       ...
       <RollButton />
       <DocsBody>
         <h1>{page.data.title}</h1>
+        <p className="mb-8 text-lg text-muted-foreground"> // [!code highlight]
+          {page.data.description} // [!code highlight]
+        </p> // [!code highlight]
         <MDX />
       </DocsBody>
     </DocsPage>
      ...
```

### Add 'Edit on GitHub' button

Use repository URL in `package.json` as source.

````diff title="package.json"
 {
   "name": "stack-builder",
   "version": "0.0.0",
```diff title="package.json"
 {
   "name": "stack-builder",
   "version": "0.0.0",
-  "private": true,
+  "repository": { // [!code highlight]
+    "type": "git", // [!code highlight]
+    "url": "https://github.com/MFarabi619/stack-builder.git" // [!code highlight]
+  }, // [!code highlight]
+  "homepage": "https://github.com/MFarabi619/stack-builder", // [!code highlight]
   "scripts": {
 ...
````

Create button.

```diff title="docs/[[...slug]]/page.tsx"
...
 import { DocsBody, DocsPage } from 'fumadocs-ui/page'
 import { notFound } from 'next/navigation'
 import { RollButton } from 'fumadocs-ui/components/roll-button'
+import { Edit } from 'lucide-react' // [!code highlight]
+import packageJson from '@root/package.json' // [!code highlight]
 import { getPage, getPages } from '@/app/docs/source'

...

   const MDX = page.data.exports.default
+  const path = `src/content/docs/${page.file.path}` // [!code highlight]
+  const gitHubRepoUrl = packageJson.repository.url.replace(/\.git$/, '') // Remove .git suffix // [!code highlight]
+ // [!code highlight]
+  const footer = ( // [!code highlight]
+    <a // [!code highlight]
+      href={`${gitHubRepoUrl}/blob/main/${path}`} // [!code highlight]
+      target="_blank" // [!code highlight]
+      rel="noreferrer noopener" // [!code highlight]
+      className="inline-flex items-center justify-center rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 px-3 text-xs gap-1.5" // [!code highlight]
+    > // [!code highlight]
+      <Edit className="size-3" /> // [!code highlight]
+      Edit on Github // [!code highlight]
+    </a> // [!code highlight]
+  ) // [!code highlight]

   return (
     <DocsPage
       toc={page.data.exports.toc}
       lastUpdate={page.data.exports.lastModified}
       full={page.data.full}
+      tableOfContent={{ // [!code highlight]
+        footer, // [!code highlight]
+      }} // [!code highlight]
+      tableOfContentPopover={{ footer }} // [!code highlight]
     >
       <RollButton />
       <DocsBody>
      ...
```

## Create Custom MDX Component for Index Page Cards

As of writing, Fumadocs has no API to autogenerate index page cards, so create it.

```bash title="Terminal"
touch src/components/mdx/index-page-cards.tsx
```

<Tabs items={["index-page-cards.tsx", "mdx-components.tsx", "Usage"]}>

```tsx tab="index-page-cards.tsx" title="src/components/mdx/index-page-cards.tsx"
import { Card, Cards } from "fumadocs-ui/components/card";
import { getPages } from "@/app/docs/source";

// Render cards for each page in the directory
export async function IndexPageCards(meta: { title: string; pages: string[] }) {
  const allPages = getPages();

  // Destructure title and pages from meta
  const { title: INDEX_PAGE_TITLE, pages: INDEX_PAGE_SUBPAGES } = meta;

  // Get the index page by title
  const INDEX_PAGE = allPages.find(
    ({ data }) => data.title === INDEX_PAGE_TITLE,
  );
  if (!INDEX_PAGE) return null;

  // Destructure dirname and slugs from INDEX_PAGE
  const {
    file: { dirname: INDEX_PAGE_DIRNAME },
    slugs: INDEX_PAGE_SLUGS,
  } = INDEX_PAGE;

  // Create an order map to sort the filtered pages
  const orderMap = INDEX_PAGE_SUBPAGES.reduce(
    (map, name, index) => {
      map[name] = index;
      return map;
    },
    {} as { [key: string]: number },
  );

  // Filter and sort pages by order in meta.json "pages" array
  const filteredPages = allPages
    .filter(
      ({ file: { name }, slugs }) =>
        (name === "index" &&
          slugs.length === INDEX_PAGE_SLUGS.length + 1 &&
          slugs[INDEX_PAGE_SLUGS.length - 1] === INDEX_PAGE_DIRNAME) ||
        INDEX_PAGE_SUBPAGES.includes(name),
    )
    .sort((a, b) => orderMap[a.file.name] - orderMap[b.file.name]);

  return (
    <Cards>
      {filteredPages.map((page) => (
        <Card
          key={page.file.name}
          title={page.data.title}
          description={page.data.description || "No description provided"}
          href={page.url}
        />
      ))}
    </Cards>
  );
}
```

```tsx tab="mdx-components.tsx" title="mdx-components.tsx"
 import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
 import { Step, Steps } from 'fumadocs-ui/components/steps'
 import { Callout } from 'fumadocs-ui/components/callout'
 import { IndexPageCards } from '@/components/mdx/index-page-cards' // [!code highlight]

 export function useMDXComponents(components: MDXComponents): MDXComponents {
   return {
     ...defaultComponents,
     ...components,
    IndexPageCards, // [!code highlight]
     Tab,
     Tabs,
     InstallTabs: ({
// other code
```

```md tab="Usage" title="content/docs/development/index.mdx"
---
title: Development
index: true
description: Break free from shackles of boilerplate and focus on complex problems.
icon: GitFork
---

import meta from "./meta.json"; // [!code highlight]

<IndexPageCards {...meta} /> // [!code highlight]
```

</Tabs>

## Add Favicon and Icon

Create a `public/` directory at the root level to store static assets.

I use [convert.io](https://convertio.co/svg-ico/) to convert SVGs into favicons.

Paste the `favicon.ico` and `icon.ico` files in the `app`, `(home)`, and `docs` directories. As of right now I'm not sure which one it was that made it work.
